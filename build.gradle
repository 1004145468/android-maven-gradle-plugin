
apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'maven'

repositories {
	mavenCentral()
	mavenLocal()
}

sourceSets {
    test {
        groovy {
            srcDirs = ['src/test/groovy', 'src/test/core/src/testFixtures/groovy', 'src/test/internal-testing/src/main/groovy' ]
        }
    }
}

dependencies {
	compile gradleApi()
	
	// from gradle/gradle/dependencies.gradle
	compileOnly dependencies.module("org.apache.maven:maven-core:3.0.4") {
		dependency "org.apache.maven:maven-settings:3.0.4@jar"
		dependency "org.apache.maven:maven-settings-builder:3.0.4@jar"

		//plexus:
		dependency "org.codehaus.plexus:plexus-utils:2.0.6@jar"
		dependency "org.codehaus.plexus:plexus-interpolation:1.14@jar"
		dependency "org.codehaus.plexus:plexus-component-annotations:1.5.5@jar"
		dependency "org.codehaus.plexus:plexus-container-default:1.5.5@jar"
		dependency "org.codehaus.plexus:plexus-classworlds:2.4@jar"

		//sonatype plexus
		dependency "org.sonatype.plexus:plexus-cipher:1.7@jar"
		dependency "org.sonatype.plexus:plexus-sec-dispatcher:1.3@jar"

		//core:
		dependency "org.apache.maven:maven-core:3.0.4@jar"
		dependency "org.apache.maven:maven-compat:3.0.4@jar"
		dependency "org.apache.maven:maven-model-builder:3.0.4@jar"
		dependency "org.apache.maven:maven-model:3.0.4@jar"

		//somewhat core:
		dependency "org.apache.maven:maven-artifact:3.0.4@jar"
		dependency "org.apache.maven:maven-repository-metadata:3.0.4@jar"
		dependency "org.apache.maven:maven-plugin-api:3.0.4@jar"
		dependency "org.apache.maven:maven-aether-provider:3.0.4@jar"

		dependency 'org.apache.maven.wagon:wagon-file:2.4@jar'
		dependency 'org.apache.maven.wagon:wagon-http:2.4@jar'
		dependency 'org.apache.maven.wagon:wagon-provider-api:2.4@jar'
		dependency 'org.apache.maven.wagon:wagon-http-shared4:2.4@jar'

		//eather:
		dependency "org.sonatype.aether:aether-api:1.13.1@jar"
		dependency "org.sonatype.aether:aether-impl:1.13.1@jar"
		dependency "org.sonatype.aether:aether-spi:1.13.1@jar"
		dependency "org.sonatype.aether:aether-util:1.13.1@jar"
		dependency 'org.sonatype.aether:aether-connector-wagon:1.13.1@jar'
	}
	
	testCompile	'junit:junit:4.12',
				'org.hamcrest:hamcrest-all:1.3',
				// from gradle/subprojects/core/core.gradle, gradle/subprojects/internal-testing/internal-testing.gradle and gradle/gradle/dependencies.gradle
				'commons-io:commons-io:2.2',
				'commons-lang:commons-lang:2.6@jar',
				'org.spockframework:spock-core:1.0-groovy-2.4@jar',
				"org.codehaus.groovy:groovy-all:2.4.7",
				'org.objenesis:objenesis:1.2@jar',
				'cglib:cglib-nodep:2.2.2',
				'org.jmock:jmock:2.5.1',
				dependencies.create('org.jmock:jmock-junit4:2.5.1') { exclude group: 'junit', module: 'junit-dep' }, //junit-dep pulls old definitions of core junit types.
				'org.jmock:jmock-legacy:2.5.1',
				'com.google.guava:guava-jdk5:17.0@jar',
				'org.jsoup:jsoup:1.6.3',
				'com.google.code.findbugs:jsr305:1.3.9@jar',
				'org.ow2.asm:asm-all:5.1'

	testCompile dependencies.module('org.apache.ivy:ivy:2.2.0'){
		dependency "com.jcraft:jsch:0.1.53"
	}
	
	testCompile dependencies.module('org.apache.ant:ant:1.9.6') {
		dependency 'org.apache.ant:ant-launcher:1.9.6@jar'
	}
}
sourceCompatibility = 1.6
targetCompatibility = 1.6

task wrapper(type: Wrapper) {
    gradleVersion = '3.0'
    distributionUrl = "https://services.gradle.org/distributions/gradle-${gradleVersion}-all.zip"
}
